# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ Trevo Vault

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Trevo Vault.

## –ß—Ç–æ —Ç–∞–∫–æ–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ?

–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±–ª–æ–∫—á–µ–π–Ω–∞ (—Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, –º–µ—Ç–æ–¥—ã, —Å–æ–±—ã—Ç–∏—è). –û–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ç—å—é.

## –ó–∞—á–µ–º –æ–±–Ω–æ–≤–ª—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ?

- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ runtime —Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –≤–µ—Ä—Å–∏–∏ 1003 –Ω–∞ 1005)
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –±–ª–æ–∫—á–µ–π–Ω
- –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

```
rust/defaults/
‚îú‚îÄ‚îÄ release_metadata/     # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–ª–∏–∑–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ test_metadata/        # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ src/lib.rs           # –§—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
```

## –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É generate_message
cd rust/generate_message

# –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å RPC —É–∑–ª–∞
cargo run load-metadata -d -u wss://rpc.api.trevo.finance
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `../files/in_progress/sign_me_load_metadata_trevo-asset-hubV[VERSION]`

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
cd ../..

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –≤ hex —Ñ–æ—Ä–º–∞—Ç
xxd -p rust/files/in_progress/sign_me_load_metadata_trevo-asset-hubV[VERSION] | tr -d '\n' > temp_metadata

# –£–¥–∞–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å 0x
sed 's/^920d1900/0x/' temp_metadata > rust/defaults/release_metadata/trevo-asset-hub[VERSION]

# –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
rm temp_metadata
```

### 3. –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

```bash
# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
cd rust/defaults/release_metadata/
rm trevo-asset-hub* # —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ release_metadata()

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `rust/defaults/src/lib.rs` —Ñ—É–Ω–∫—Ü–∏—è `release_metadata()` –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```rust
/// Read metadata set for release cold database from `release_metadata` folder
#[cfg(feature = "active")]
pub fn release_metadata() -> Result<Vec<MetaValues>> {
    metadata("../defaults/release_metadata")
}
```

–ï—Å–ª–∏ —Ç–∞–º `Ok(vec![])`, –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∫–æ–¥ –≤—ã—à–µ.

### 5. –°–æ–∑–¥–∞–Ω–∏–µ —Ö–æ–ª–æ–¥–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ generate_message
cd rust/generate_message

# –°–æ–∑–¥–∞–µ–º —Ö–æ–ª–æ–¥–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –Ω–æ–≤—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
cargo run make-cold-release
```

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ QR –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –≤–µ—Ä—Å–∏—è runtime, –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `trevo_assets/generate_qr.sh`:

```bash
# –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –≤–µ—Ä—Å–∏–µ–π –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –µ—ë
generate_chain_qr "trevo-asset-hub" $ASSET_HUB_RPC "[NEW_VERSION]"
```

### 7. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ QR –∫–æ–¥–∞

```bash
cd trevo_assets
./generate_qr.sh
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ `make-cold-release` –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –±–µ–∑ –æ—à–∏–±–æ–∫
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ QR –∫–æ–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π
3. –ü—Ä–∏ —Å–±–æ—Ä–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `update_metadata.sh` (—Å–º. —Å–ª–µ–¥—É—é—â–∏–π —Ñ–∞–π–ª).

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- ‚ö†Ô∏è –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ backup –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ RPC —É–∑–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚ö†Ô∏è –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- üìù –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## Troubleshooting

### –û—à–∏–±–∫–∞ "Failed to parse metadata"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å "0x")
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–¥–∞–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ "920d1900"

### –û—à–∏–±–∫–∞ "Network not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ defaults
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### Genesis hash –∏–∑–º–µ–Ω–∏–ª—Å—è
–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è genesis hash —Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è runtime):
- –û–±–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `rust/defaults/src/lib.rs` —Å—Ç—Ä–æ–∫–∞ 193
- –¢–µ–∫—É—â–∏–π genesis hash: `977630d34363c8b118147fe7deb58118fa1f75197d036071572e9a3698bee56d`
- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Ö–æ–ª–æ–¥–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö: `cargo run make-cold-release`

### RPC –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RPC —É–∑–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π RPC endpoint 